<%- include('header', { pageTitle: 'Booking History | Vacay' }) %>

<div class="propBackground d-flex" style="flex-direction: column;">
    <!-- Display the details of the booking history -->
    <h3 class="p-2">Booking History</h3>

    <div class="grid-container">
        <% bookingHistory.forEach((history) => { %>
            <figure class="p-3">
                <% if (history.propertyId && history.propertyId.images && history.propertyId.images.length > 0) { %>
                    <img src="<%= 'data:' + history.propertyId.images[0].contentType + ';base64,' + history.propertyId.images[0].data.toString('base64') %>" alt="Property Image" style="width: 100%;">
                <% } else { %>
                    <img src="placeholder-image-url.jpg" alt="Placeholder Image" style="width: 100%;">
                <% } %>
                <figcaption>
                    <h1><%= history.propertyId.name %></h1>
                    <p><%= history.propertyId.guestNum %> Guest</p>
                    <p>Total Price: RM<%= history.bookingId.totalPrice %></p>
                    <p>Check-In: <%= history.bookingId.checkin.toDateString() %></p>
                    <p>Check-Out: <%= history.bookingId.checkout.toDateString() %></p>
                </figcaption>
            </figure>
        <% }) %>
    </div>

    <!-- Other details and buttons... -->

</div>

<%- include('footer') %>

